<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ‰ ìŒ ì¹œêµ¬ë“¤ í™˜ê°‘ ì¹´ìš´íŠ¸ë‹¤ìš´ ğŸ‰</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 50%, #48dbfb 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            background-size: 200% 200%;
            animation: gradientShift 5s ease infinite;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            background: white;
            border-radius: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 550px;
            width: 100%;
            animation: bounce 0.5s ease-in;
        }

        @keyframes bounce {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); opacity: 1; }
        }

        h1 {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.2em;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
            font-weight: 500;
        }

        .input-group {
            margin-bottom: 25px;
            animation: slideIn 0.5s ease;
        }

        @keyframes slideIn {
            from { transform: translateX(-20px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #555;
            font-weight: 600;
            font-size: 1.1em;
        }

        .name-selection {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        .name-btn {
            padding: 12px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border: 3px solid transparent;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1.1em;
            font-weight: 600;
            text-align: center;
        }

        .name-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
        }

        .name-btn.selected {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            border-color: #ff6b6b;
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.3);
        }

        .date-selectors {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 10px;
        }

        select {
            width: 100%;
            padding: 14px;
            border: 3px solid #f0f0f0;
            border-radius: 15px;
            font-size: 16px;
            transition: all 0.3s ease;
            background-color: #f8f9fa;
            cursor: pointer;
            appearance: none;
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right 10px center;
            background-size: 20px;
            padding-right: 40px;
        }

        select:focus {
            border-color: #ff6b6b;
            outline: none;
            background-color: white;
            box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.1);
            transform: scale(1.02);
        }

        button {
            width: 100%;
            padding: 16px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            border: none;
            border-radius: 15px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(255, 107, 107, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .result {
            margin-top: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-radius: 20px;
            display: none;
            animation: popIn 0.5s ease;
        }

        @keyframes popIn {
            from { transform: scale(0); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .result.show {
            display: block;
        }

        .welcome-message {
            text-align: center;
            font-size: 1.4em;
            color: #ff6b6b;
            font-weight: bold;
            margin-bottom: 20px;
            animation: shake 0.5s;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .result-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .emoji-big {
            font-size: 3em;
            text-align: center;
            margin: 10px 0;
            animation: bounce 1s infinite;
        }

        .special-date {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: center;
        }

        .special-date-title {
            font-size: 1.2em;
            margin-bottom: 10px;
        }

        .special-date-value {
            font-size: 2.5em;
            font-weight: bold;
        }

        .fun-message {
            background: #fff3e0;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            text-align: center;
            font-size: 1.1em;
            color: #ff6b6b;
            border: 2px dashed #feca57;
        }

        .record-section {
            margin-top: 20px;
            padding: 15px;
            background: #f0f9ff;
            border-radius: 15px;
            text-align: center;
        }

        .record-button {
            background: linear-gradient(45deg, #48dbfb, #0abde3);
            padding: 12px 20px;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            margin: 10px 5px;
            display: inline-block;
            cursor: pointer;
            transition: all 0.3s;
        }

        .record-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(72, 219, 251, 0.4);
        }

        .records-list {
            margin-top: 20px;
            max-height: 300px;
            overflow-y: auto;
            background: white;
            padding: 15px;
            border-radius: 10px;
        }

        .record-item {
            padding: 10px;
            margin: 8px 0;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s;
        }

        .record-item:hover {
            transform: translateX(5px);
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .age-status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            font-weight: bold;
            font-size: 0.9em;
            margin-left: 10px;
        }

        .countdown-special {
            background: linear-gradient(45deg, #ee5a24, #f79f1f);
            color: white;
            padding: 25px;
            border-radius: 20px;
            margin: 20px 0;
            text-align: center;
            box-shadow: 0 10px 30px rgba(238, 90, 36, 0.3);
        }

        .countdown-special h3 {
            font-size: 1.5em;
            margin-bottom: 15px;
        }

        .countdown-special .days {
            font-size: 3em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .select-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .save-notification {
            background: linear-gradient(45deg, #00b894, #00cec9);
            color: white;
            padding: 10px;
            border-radius: 10px;
            margin-top: 15px;
            text-align: center;
            font-weight: 600;
            animation: fadeInOut 2s;
            display: none;
        }

        .save-notification.show {
            display: block;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: translateY(-10px); }
            20% { opacity: 1; transform: translateY(0); }
            80% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-10px); }
        }

        @media (max-width: 480px) {
            .container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .special-date-value {
                font-size: 2em;
            }

            .name-selection {
                grid-template-columns: repeat(2, 1fr);
            }

            .date-selectors {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸŠ ìŒ ì¹œêµ¬ë“¤ í™˜ê°‘ ì¹´ìš´íŠ¸ë‹¤ìš´ ğŸŠ</h1>
        <p class="subtitle">ìš°ë¦¬ ì–¸ì œ í™˜ê°‘ì´ì§€? ğŸ˜„</p>
        
        <div class="input-group">
            <label>ì¹œêµ¬ë¥¼ ì„ íƒí•˜ì„¸ìš”! ğŸ‘‹</label>
            <div class="name-selection" id="nameSelection">
                <div class="name-btn" onclick="selectName(this, 'ì£¼ë¯¼ì¤€')">ì£¼ë¯¼ì¤€</div>
                <div class="name-btn" onclick="selectName(this, 'ë°•ìƒê·œ')">ë°•ìƒê·œ</div>
                <div class="name-btn" onclick="selectName(this, 'ê¹€ì •ì¸')">ê¹€ì •ì¸</div>
                <div class="name-btn" onclick="selectName(this, 'ì¥ìœ¤í¬')">ì¥ìœ¤í¬</div>
                <div class="name-btn" onclick="selectName(this, 'í™©ì›ì² ')">í™©ì›ì² </div>
                <div class="name-btn" onclick="selectName(this, 'ê³ ìœ ì—°')">ê³ ìœ ì—°</div>
                <div class="name-btn" onclick="selectName(this, 'ê¹€ì™„ì„')">ê¹€ì™„ì„</div>
            </div>
        </div>
        
        <div class="input-group">
            <label>ìƒë…„ì›”ì¼ì„ ì„ íƒí•˜ì„¸ìš”! ğŸ‚</label>
            <div class="date-selectors">
                <div>
                    <div class="select-label">ë…„ë„</div>
                    <select id="birthYear">
                        <option value="">ë…„ë„ ì„ íƒ</option>
                    </select>
                </div>
                <div>
                    <div class="select-label">ì›”</div>
                    <select id="birthMonth">
                        <option value="">ì›” ì„ íƒ</option>
                    </select>
                </div>
                <div>
                    <div class="select-label">ì¼</div>
                    <select id="birthDay">
                        <option value="">ì¼ ì„ íƒ</option>
                    </select>
                </div>
            </div>
        </div>
        
        <button id="calculateBtn" onclick="calculateHwangap()" disabled>ğŸš€ í™˜ê°‘ê¹Œì§€ ì–¼ë§ˆë‚˜ ë‚¨ì•˜ë‚˜ í™•ì¸í•˜ê¸°!</button>
        
        <div class="result" id="result">
            <div class="welcome-message" id="welcomeMessage"></div>
            
            <div class="emoji-big" id="emojiDisplay">ğŸ¯</div>
            
            <div class="result-card">
                <h3>ğŸ“Š ê¸°ë³¸ ì •ë³´</h3>
                <p><strong>í˜„ì¬ ë‚˜ì´:</strong> <span id="currentAge"></span></p>
                <p><strong>í™˜ê°‘ ë‚ ì§œ:</strong> <span id="hwangapDate"></span></p>
            </div>
            
            <div class="special-date">
                <div class="special-date-title">ğŸ‰ í™˜ê°‘ê¹Œì§€ D-DAY</div>
                <div class="special-date-value" id="daysToHwangap"></div>
            </div>
            
            <div class="countdown-special" id="thousandDaysSection">
                <h3>âš¡ í™˜ê°‘ 1000ì¼ ì „ íŠ¹ë³„ ì¹´ìš´íŠ¸ë‹¤ìš´!</h3>
                <div class="days" id="thousandDaysCountdown"></div>
                <p id="thousandDaysMessage"></p>
            </div>
            
            <div class="fun-message" id="funMessage"></div>
            
            <div class="save-notification" id="saveNotification">
                âœ… ìë™ìœ¼ë¡œ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!
            </div>
            
            <div class="record-section">
                <h3>ğŸ“ ìŒ ì¹œêµ¬ë“¤ ì „ì²´ ê¸°ë¡</h3>
                <span class="record-button" onclick="toggleRecords()">ğŸ‘¥ ì¹œêµ¬ë“¤ í™˜ê°‘ ìˆœìœ„ ë³´ê¸°</span>
                <div class="records-list" id="recordsList" style="display:none;"></div>
            </div>
        </div>
    </div>

    <script>
        let selectedName = '';
        
        // ë…„ë„ ì˜µì…˜ ìƒì„± (1960ë…„ë¶€í„° 1980ë…„ê¹Œì§€)
        const yearSelect = document.getElementById('birthYear');
        for (let year = 1960; year <= 1980; year++) {
            const option = document.createElement('option');
            option.value = year;
            option.textContent = `${year}ë…„`;
            yearSelect.appendChild(option);
        }
        
        // ì›” ì˜µì…˜ ìƒì„±
        const monthSelect = document.getElementById('birthMonth');
        for (let month = 1; month <= 12; month++) {
            const option = document.createElement('option');
            option.value = month;
            option.textContent = `${month}ì›”`;
            monthSelect.appendChild(option);
        }
        
        // ì¼ ì˜µì…˜ ìƒì„± (ê¸°ë³¸ 31ì¼)
        function updateDays() {
            const daySelect = document.getElementById('birthDay');
            const selectedYear = document.getElementById('birthYear').value;
            const selectedMonth = document.getElementById('birthMonth').value;
            const selectedDay = daySelect.value;
            
            daySelect.innerHTML = '<option value="">ì¼ ì„ íƒ</option>';
            
            if (selectedYear && selectedMonth) {
                const daysInMonth = new Date(selectedYear, selectedMonth, 0).getDate();
                for (let day = 1; day <= daysInMonth; day++) {
                    const option = document.createElement('option');
                    option.value = day;
                    option.textContent = `${day}ì¼`;
                    daySelect.appendChild(option);
                }
                
                // ì´ì „ì— ì„ íƒí•œ ì¼ì´ ìˆê³  ìœ íš¨í•˜ë©´ ë‹¤ì‹œ ì„ íƒ
                if (selectedDay && selectedDay <= daysInMonth) {
                    daySelect.value = selectedDay;
                }
            } else {
                for (let day = 1; day <= 31; day++) {
                    const option = document.createElement('option');
                    option.value = day;
                    option.textContent = `${day}ì¼`;
                    daySelect.appendChild(option);
                }
            }
            
            checkFormComplete();
        }
        
        // ì›” ë˜ëŠ” ë…„ë„ê°€ ë³€ê²½ë  ë•Œ ì¼ ì—…ë°ì´íŠ¸
        document.getElementById('birthYear').addEventListener('change', updateDays);
        document.getElementById('birthMonth').addEventListener('change', updateDays);
        document.getElementById('birthDay').addEventListener('change', checkFormComplete);
        
        // ì´ˆê¸° ì¼ ì˜µì…˜ ìƒì„±
        updateDays();
        
        // localStorageì—ì„œ ê¸°ë¡ ë¶ˆëŸ¬ì˜¤ê¸°
        let records = JSON.parse(localStorage.getItem('cellFriendsRecords')) || [];
        
        function selectName(element, name) {
            // ëª¨ë“  ì´ë¦„ ë²„íŠ¼ì˜ ì„ íƒ í•´ì œ
            document.querySelectorAll('.name-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            
            // ì„ íƒí•œ ë²„íŠ¼ í™œì„±í™”
            element.classList.add('selected');
            selectedName = name;
            
            checkFormComplete();
        }
        
        function checkFormComplete() {
            const year = document.getElementById('birthYear').value;
            const month = document.getElementById('birthMonth').value;
            const day = document.getElementById('birthDay').value;
            const calculateBtn = document.getElementById('calculateBtn');
            
            if (selectedName && year && month && day) {
                calculateBtn.disabled = false;
            } else {
                calculateBtn.disabled = true;
            }
        }
        
        function calculateHwangap() {
            const year = document.getElementById('birthYear').value;
            const month = document.getElementById('birthMonth').value;
            const day = document.getElementById('birthDay').value;
            
            if (!selectedName || !year || !month || !day) {
                alert('ì´ë¦„ê³¼ ìƒë…„ì›”ì¼ì„ ëª¨ë‘ ì„ íƒí•´ì£¼ì„¸ìš”! ğŸ˜Š');
                return;
            }
            
            const birthday = new Date(year, month - 1, day);
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            if (birthday > today) {
                alert('ë¯¸ë˜ì—ì„œ ì˜¤ì…¨ë‚˜ìš”? ğŸ˜„ ì˜¬ë°”ë¥¸ ìƒì¼ì„ ì„ íƒí•´ì£¼ì„¸ìš”!');
                return;
            }
            
            // í˜„ì¬ ë‚˜ì´ ê³„ì‚°
            let age = today.getFullYear() - birthday.getFullYear();
            const monthDiff = today.getMonth() - birthday.getMonth();
            const dayDiff = today.getDate() - birthday.getDate();
            
            if (monthDiff < 0 || (monthDiff === 0 && dayDiff < 0)) {
                age--;
            }
            
            // í™˜ê°‘ ë‚ ì§œ ê³„ì‚°
            const hwangapDate = new Date(birthday);
            hwangapDate.setFullYear(birthday.getFullYear() + 60);
            
            // í™˜ê°‘ê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜
            const daysToHwangap = Math.ceil((hwangapDate - today) / (1000 * 60 * 60 * 24));
            
            // í™˜ê°‘ 1000ì¼ ì „ ë‚ ì§œ ê³„ì‚°
            const thousand1DaysBefore = new Date(hwangapDate);
            thousand1DaysBefore.setDate(thousand1DaysBefore.getDate() - 1000);
            const daysToThousand = Math.ceil((thousand1DaysBefore - today) / (1000 * 60 * 60 * 24));
            
            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('welcomeMessage').textContent = `${selectedName}ë‹˜! í™˜ê°‘ ì²´í¬ ì™„ë£Œ! ğŸŠ`;
            document.getElementById('currentAge').textContent = `ë§Œ ${age}ì„¸`;
            
            // ë‚˜ì´ë³„ ì´ëª¨ì§€ì™€ ë©”ì‹œì§€
            let emoji, funMessage;
            if (age < 20) {
                emoji = 'ğŸ‘¶';
                funMessage = `${selectedName}ë‹˜ì€ ì•„ì§ ìƒˆì‹¹ì´ì‹œë„¤ìš”! í™˜ê°‘ê¹Œì§€ ê¸´ ì—¬ì •ì´ ë‚¨ì•˜ì–´ìš”! ğŸŒ±`;
            } else if (age < 30) {
                emoji = 'ğŸŒŸ';
                funMessage = `${selectedName}ë‹˜ì€ ì²­ì¶˜ì´ì‹œë„¤ìš”! í™˜ê°‘ì´ ë­”ì§€ë„ ëª¨ë¥´ëŠ” ë‚˜ì´! ğŸ’ª`;
            } else if (age < 40) {
                emoji = 'ğŸ”¥';
                funMessage = `${selectedName}ë‹˜ì€ 30ëŒ€! ì¸ìƒì˜ í™©ê¸ˆê¸°! í™˜ê°‘ì€ ì•„ì§ ë©€ì—ˆì–´ìš”! âš¡`;
            } else if (age < 50) {
                emoji = 'ğŸ’';
                funMessage = `${selectedName}ë‹˜ì€ 40ëŒ€! ì´ì œ í™˜ê°‘ì´ ì¡°ê¸ˆì”© ë³´ì´ê¸° ì‹œì‘í•˜ë„¤ìš”! ğŸ˜Š`;
            } else if (age < 55) {
                emoji = 'ğŸ†';
                funMessage = `${selectedName}ë‹˜ì€ 50ëŒ€ ì´ˆë°˜! í™˜ê°‘ ì¤€ë¹„ ìš´ë™ ì‹œì‘í•˜ì‹¤ ì‹œê°„! ğŸ¯`;
            } else if (age < 60) {
                emoji = 'ğŸ‘‘';
                funMessage = `${selectedName}ë‹˜! ê³§ í™˜ê°‘ì´ì‹œë„¤ìš”! ì¹´ìš´íŠ¸ë‹¤ìš´ ì‹œì‘! ğŸ‰ğŸ‰ğŸ‰`;
            } else {
                emoji = 'ğŸ–ï¸';
                funMessage = `${selectedName}ë‹˜ì€ í™˜ê°‘ì„ ë„˜ìœ¼ì…¨ë„¤ìš”! ì¸ìƒì˜ ë§ˆìŠ¤í„°! ì¡´ê²½í•©ë‹ˆë‹¤! ğŸ™Œ`;
            }
            
            document.getElementById('emojiDisplay').textContent = emoji;
            document.getElementById('funMessage').textContent = funMessage;
            
            document.getElementById('hwangapDate').textContent = hwangapDate.toLocaleDateString('ko-KR', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                weekday: 'long'
            });
            
            if (age >= 60) {
                document.getElementById('daysToHwangap').textContent = 'ì¶•í•˜í•©ë‹ˆë‹¤! ğŸ‰';
                document.getElementById('thousandDaysSection').style.display = 'none';
            } else {
                document.getElementById('daysToHwangap').textContent = `${daysToHwangap.toLocaleString()}ì¼`;
                
                // í™˜ê°‘ 1000ì¼ ì „ ê´€ë ¨
                const thousandSection = document.getElementById('thousandDaysSection');
                thousandSection.style.display = 'block';
                
                if (daysToThousand > 0) {
                    document.getElementById('thousandDaysCountdown').textContent = `D-${daysToThousand.toLocaleString()}`;
                    document.getElementById('thousandDaysMessage').textContent = 
                        `${thousand1DaysBefore.toLocaleDateString('ko-KR')}ì´ í™˜ê°‘ 1000ì¼ ì „ì´ì—ìš”!`;
                } else if (daysToThousand === 0) {
                    document.getElementById('thousandDaysCountdown').textContent = 'ğŸŠ D-DAY ğŸŠ';
                    document.getElementById('thousandDaysMessage').textContent = 'ì˜¤ëŠ˜ì´ ë°”ë¡œ í™˜ê°‘ 1000ì¼ ì „ì…ë‹ˆë‹¤!';
                } else {
                    document.getElementById('thousandDaysCountdown').textContent = `D+${Math.abs(daysToThousand).toLocaleString()}`;
                    document.getElementById('thousandDaysMessage').textContent = 'í™˜ê°‘ 1000ì¼ ì „ì„ ì§€ë‚¬ì–´ìš”! í™˜ê°‘ì´ ë” ê°€ê¹Œì›Œì¡Œë„¤ìš”!';
                }
            }
            
            document.getElementById('result').classList.add('show');
            
            // ìë™ ì €ì¥ ì²˜ë¦¬
            const birthdayString = `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;
            const userData = {
                name: selectedName,
                birthday: birthdayString,
                age: age,
                daysToHwangap: daysToHwangap
            };
            
            // ì¤‘ë³µ ì²´í¬ ë° ìë™ ì—…ë°ì´íŠ¸
            const existingIndex = records.findIndex(r => r.name === userData.name);
            if (existingIndex !== -1) {
                // ê¸°ì¡´ ë°ì´í„° ì—…ë°ì´íŠ¸
                records[existingIndex] = userData;
            } else {
                // ìƒˆë¡œìš´ ë°ì´í„° ì¶”ê°€
                records.push(userData);
            }
            
            // localStorageì— ìë™ ì €ì¥
            localStorage.setItem('cellFriendsRecords', JSON.stringify(records));
            
            // ì €ì¥ ì•Œë¦¼ í‘œì‹œ
            const saveNotification = document.getElementById('saveNotification');
            saveNotification.classList.add('show');
            setTimeout(() => {
                saveNotification.classList.remove('show');
            }, 2000);
            
            // ìˆœìœ„ ë¦¬ìŠ¤íŠ¸ ìë™ ì—…ë°ì´íŠ¸
            updateRecordsList();
        }
        
        function updateRecordsList() {
            const recordsList = document.getElementById('recordsList');
            
            if (records.length === 0) {
                recordsList.innerHTML = '<p>ì•„ì§ ì €ì¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            } else {
                // í™˜ê°‘ê¹Œì§€ ë‚¨ì€ ì¼ìˆ˜ ìˆœìœ¼ë¡œ ì •ë ¬ (ì ì€ ìˆœ)
                const sortedRecords = [...records].sort((a, b) => a.daysToHwangap - b.daysToHwangap);
                
                let html = '<h4>ğŸ† ìŒ ì¹œêµ¬ë“¤ í™˜ê°‘ ìˆœìœ„ (ê°€ê¹Œìš´ ìˆœ)</h4>';
                sortedRecords.forEach((record, index) => {
                    let medal = index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : `${index + 1}.`;
                    let bgColor = index === 0 ? 'background: linear-gradient(135deg, #ffd700, #ffed4e);' : 
                                 index === 1 ? 'background: linear-gradient(135deg, #c0c0c0, #e8e8e8);' : 
                                 index === 2 ? 'background: linear-gradient(135deg, #cd7f32, #e4a853);' : '';
                    
                    html += `
                        <div class="record-item" style="${bgColor}">
                            <span>${medal} ${record.name}</span>
                            <span>
                                ë§Œ ${record.age}ì„¸
                                <span class="age-status">D-${record.daysToHwangap}</span>
                            </span>
                        </div>
                    `;
                });
                recordsList.innerHTML = html;
            }
        }
        
        function toggleRecords() {
            const recordsList = document.getElementById('recordsList');
            recordsList.style.display = recordsList.style.display === 'none' ? 'block' : 'none';
            
            if (recordsList.style.display === 'block') {
                updateRecordsList();
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ë¡ ì—…ë°ì´íŠ¸
        window.addEventListener('load', () => {
            updateRecordsList();
        });
    </script>
</body>
</html>